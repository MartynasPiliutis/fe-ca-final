{"version":3,"sources":["scripts/call.js"],"names":["btn","document","querySelector","subas","loader","miestas","output","cardHeight","contHeight","showMoreBtn","allCards","addEventListener","screenHeight","showMore","renderCards","array","innerHTML","forEach","cityCard","divNode","createElement","deleteBtn","cityNode","iko56Node","iko36Node","ikoNode1","ikoNode2","tempNode","descNode","humiNode","dateNode","setAttribute","cardID","cityIcon","textContent","cityName","cityStat","cityTemp","cityDesc","cityHumi","retrDate","appendChild","remove","filter","item","showLess","cityCheck","cityToCheck","value","toLowerCase","cityInList","response","localeCompare","start","alert","contHeightCh","height","offsetHeight","style","display","screenHeightDec","cardHeightCh","Number","opacity","stop","call","preventDefault","baseUrl","fetch","then","resp","json","result","date","Date","getTime","name","sys","country","weather","icon","main","temp","description","humidity","unshift","catch","error"],"mappings":"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","file":"call.21910fbe.map","sourceRoot":"..\\src","sourcesContent":["let btn = document.querySelector('#submitas');\r\nlet subas = document.querySelector('.subas');\r\nlet loader = document.querySelector('.loader');\r\nlet miestas = document.querySelector('#inputas');\r\nlet output = document.querySelector('.cards');\r\nlet cardHeight = document.querySelector('.cards');\r\nlet contHeight = document.querySelector('.container');\r\nlet showMoreBtn = document.querySelector('.show_more');\r\n\r\nlet allCards = [];\r\n\r\nshowMoreBtn.addEventListener('click', screenHeight);\r\nbtn.addEventListener('click', showMore);\r\n\r\nconst renderCards = (array) => {\r\n  output.innerHTML = ``;\r\n  array.forEach((cityCard) => {\r\n    const divNode = document.createElement('div');\r\n    const deleteBtn = document.createElement('button');\r\n    const cityNode = document.createElement('h2');\r\n    const iko56Node = document.createElement('img');\r\n    const iko36Node = document.createElement('img');\r\n    const ikoNode1 = document.createElement('img');\r\n    const ikoNode2 = document.createElement('img');\r\n    const tempNode = document.createElement('p');\r\n    const descNode = document.createElement('p');\r\n    const humiNode = document.createElement('p');\r\n    const dateNode = document.createElement('p');\r\n\r\n    divNode.setAttribute('class', 'card');\r\n    divNode.setAttribute('id', `${cityCard.cardID}`);\r\n    deleteBtn.setAttribute('class', `delete${cityCard.cardID}`);\r\n    deleteBtn.setAttribute('id', 'delete');\r\n    deleteBtn.setAttribute('style', 'float: right');\r\n    iko56Node.setAttribute('class','iko56');\r\n    iko56Node.setAttribute('src', `http://openweathermap.org/img/w/${cityCard.cityIcon}.png`);\r\n    iko36Node.setAttribute('class','iko36');\r\n    iko36Node.setAttribute('src', `http://openweathermap.org/img/w/${cityCard.cityIcon}.png`);\r\n    ikoNode1.setAttribute('class','iko');\r\n    ikoNode1.setAttribute('src', `http://openweathermap.org/img/w/${cityCard.cityIcon}.png`);\r\n    ikoNode2.setAttribute('class','iko');\r\n    ikoNode2.setAttribute('src', `http://openweathermap.org/img/w/${cityCard.cityIcon}.png`);\r\n\r\n    let delBtnTemplate = `\r\n    <span class=\"line1\"></span>\r\n    <span class=\"line2\"></span>\r\n    `;\r\n\r\n    deleteBtn.innerHTML = delBtnTemplate;\r\n    cityNode.textContent = `${cityCard.cityName}, ${cityCard.cityStat}`;\r\n    tempNode.textContent = `Temperature: ${cityCard.cityTemp} â„ƒ`;\r\n    descNode.textContent = `Description: ${cityCard.cityDesc}`;\r\n    humiNode.textContent = `Humidity: ${cityCard.cityHumi} %`;\r\n    dateNode.textContent = `Retrieved on ${cityCard.retrDate}`;\r\n\r\n    divNode.appendChild(deleteBtn);\r\n    divNode.appendChild(cityNode);\r\n    divNode.appendChild(iko56Node);\r\n    divNode.appendChild(iko36Node);\r\n    divNode.appendChild(ikoNode1);\r\n    divNode.appendChild(ikoNode2);\r\n    divNode.appendChild(tempNode);\r\n    divNode.appendChild(descNode);\r\n    divNode.appendChild(humiNode);\r\n    divNode.appendChild(dateNode);\r\n\r\n    output.appendChild(divNode);\r\n\r\n    deleteBtn.addEventListener('click', () => {\r\n      divNode.remove();\r\n      allCards = allCards.filter(item => item.cardID !== cityCard.cardID);\r\n      renderCards(allCards);\r\n      showLess();\r\n    })\r\n  })\r\n  showMore();\r\n}\r\n\r\n\r\n\r\nbtn.addEventListener('click', (call) => {\r\n  start();\r\n  renderCards(allCards);\r\n  call.preventDefault();\r\n  allCards.forEach(cityCheck);\r\n  if (miestas.value != 0) {}\r\n  else {\r\n    miestas.value = '';\r\n    stop();\r\n    return;\r\n  }\r\n\r\n    const baseUrl = `http://api.openweathermap.org/data/2.5/weather?q=${miestas.value}&units=metric&APPID=82baad24dff03c56581ce89f389c9424`;\r\n    miestas.value = '';\r\n\r\nfetch(baseUrl)\r\n.then(resp => resp.json())\r\n.then(result => {\r\n  const date = new Date();\r\n  const cityCard = {\r\n    cardID: date.getTime(),\r\n    cityName: result.name,\r\n    cityStat: result.sys.country,\r\n    cityIcon: result.weather[0].icon,\r\n    cityTemp: result.main.temp,\r\n    cityDesc: result.weather[0].description,\r\n    cityHumi: result.main.humidity,\r\n    retrDate: date\r\n  };\r\n  allCards.unshift(cityCard);\r\n  renderCards(allCards);\r\n  stop();\r\n})\r\n.catch(error => alert('Your city was not found, please check the spelling...', error, stop()));\r\n})\r\n\r\nfunction cityCheck(item) {\r\n  let cityToCheck = miestas.value.toLowerCase();\r\n  let cityInList = item.cityName.toLowerCase();\r\n  let response = cityToCheck.localeCompare(cityInList);\r\n  start();\r\n    if (response != 0)\r\n    {}\r\n    else {\r\n      alert(`You already have ${miestas.value} in your list. Try another place...`);\r\n      miestas.value = '0';\r\n    };\r\n};\r\n\r\n\r\nfunction screenHeight() {\r\n  let contHeightCh = contHeight.offsetHeight;\r\n  let height = contHeightCh + 298;\r\n  contHeight.style.height = `${height}px`;\r\n  showMoreBtn.style.display = 'none';\r\n};\r\n\r\nfunction screenHeightDec() {\r\n  let contHeightCh = contHeight.offsetHeight;\r\n  let height = contHeightCh - 298;\r\n  contHeight.style.height = `${height}px`;\r\n  showMoreBtn.style.display = 'none';\r\n};\r\n\r\nfunction showMore() {\r\n  let cardHeightCh = cardHeight.offsetHeight;\r\n  let contHeightCh = contHeight.offsetHeight;\r\n  if (Number(cardHeightCh) <= Number(contHeightCh)){}\r\n    else {\r\n    showMoreBtn.style.display = 'block';\r\n  }};\r\n\r\nfunction showLess() {\r\n  let cardHeightCh = cardHeight.offsetHeight;\r\n  let contHeightCh = contHeight.offsetHeight;\r\n  if (Number(contHeightCh) - Number(cardHeightCh) >= 298 && Number(contHeightCh) != 298) {\r\n    screenHeightDec();\r\n  }\r\n  else {\r\n    showMoreBtn.style.display = 'none';\r\n  }};\r\n\r\n  function start() {\r\n    btn.style.opacity = \"1\";\r\n    subas.style.display = \"none\";\r\n    loader.style.display = \"block\";\r\n  }\r\n\r\n  function stop() {\r\n    btn.style.opacity = \".2\";\r\n    subas.style.display = \"block\";\r\n    loader.style.display = \"none\";\r\n  }\r\n"]}